<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tfirst</title>
    <style>
        body, html {
            font-family: 'Courier New', monospace;
            font-size: 14px;
            background-color: #2c2c2c;
            color: #ffffff;
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
        }
        #terminal {
            display: grid;
            grid-template-columns: repeat(auto-fill, 16.8px);
            grid-template-rows: repeat(auto-fill, 16.5px);
            height: 100vh;
            width: 100vw;
            box-sizing: border-box;
        }
        #weather {
            grid-column: 3 / span 11;
            grid-row: 1 / span 6;
            white-space: pre;
        }
        #time {
            grid-column: -13 / span 11;
            grid-row: 1 / span 6;
            white-space: pre;
            justify-self: end;
        }
        #spotify-widget {
            grid-column: -13 / span 11;
            grid-row: 7 / span 6;
            white-space: pre;
            justify-self: end;
        }
        #weather-art {
            grid-column: 11 / -11;
            grid-row: 6 / span 22;
            white-space: pre;
            place-self: center;
        }
        .shortcuts {
            grid-column: 1 / -1;
            grid-row: -3 / span 1;
            display: none;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
        }
        a {
            color: #ffffff;
            text-decoration: none;
            margin: 0 10px;
        }
        a:hover {
            text-decoration: underline;
        }
        #prompts {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
        }
        .prompt {
            position: absolute;
            color: #ffffff;
        }
        @media (max-width: 405px) {
        #weather {
            grid-column: 1 / -1;
            grid-row: 2 / span 6;
            white-space: pre-wrap;
            word-break: break-all;
            justify-self: center;
            text-align: center;
        }
        #time {
            grid-column: 1 / -1;
            grid-row: 9 / span 6;
            white-space: pre-wrap;
            word-break: break-all;
            justify-self: center;
            text-align: center;
        }
            #weather-art {
                display: none;
            }
            .shortcuts {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div id="terminal">
        <div id="weather"></div>
        <div id="time"></div>
        <div id="weather-art"></div>
        <div id="spotify-widget"></div>
        <div class="shortcuts">
            [<a href="https://www.youtube.com/feed/subscriptions" target="_blank" rel="noopener noreferrer">YOUTUBE</a>]
            [<a href="https://www.twitter.com" target="_blank" rel="noopener noreferrer">TWITTER</a>]
            [<a href="https://www.github.com" target="_blank" rel="noopener noreferrer">GITHUB</a>]
            [<a href="https://www.claude.ai" target="_blank" rel="noopener noreferrer">CLAUDE</a>]
            [<a href="https://chat.openai.com" target="_blank" rel="noopener noreferrer">CHATGPT</a>]
        </div>
    </div>
    <div id="prompts"></div>

    <script>
        class WeatherManager {
            constructor() {
                this.weatherElement = document.getElementById('weather');
                this.weatherArtElement = document.getElementById('weather-art');
                this.currentWeatherType = 'clear';
                this.animationFrame = 0;
                this.weatherConditions = {
                    0: 'clear',
                    1: 'clouds', 2: 'clouds', 3: 'clouds',
                    45: 'mist', 48: 'mist',
                    51: 'drizzle', 53: 'drizzle', 55: 'drizzle',
                    56: 'drizzle', 57: 'drizzle',
                    61: 'rain', 63: 'rain', 65: 'rain',
                    66: 'rain', 67: 'rain',
                    71: 'snow', 73: 'snow', 75: 'snow',
                    77: 'snow',
                    80: 'rain', 81: 'rain', 82: 'rain',
                    85: 'snow', 86: 'snow',
                    95: 'thunderstorm', 96: 'thunderstorm', 99: 'thunderstorm'
                };

        const now = new Date();
        const yearString = now.toLocaleDateString('en-US', {year: 'numeric'});

        this.weatherArt = {
thunderstorm: [
`
           _                                      
         (\`  ).          _.-._    _               
        (     ),      _.(.--. ) (\`  )\`.           
       _(       '\`-.(        '-)_ .    )          
   .=(\`(      .   ) .-  (_,  (_,))-.  ) )         
  ((    (..__.;'-' /.      ./  , _\\  ) )          
  \`(       ) )' '( \\  (  .     )  /   )  ._       
    \` __.:'   )'--._(   (_,   ._/  \`-'.-(\`  )     
      '   '--'      '\`--.__.--\`      :(      ))   
        '   '  .')'    '      '    ' \`(    )  ))  
           '  (_  )  '    '         '  \` __.:'    
         '         _.       '     '               
           ' '    /__\`A   ,_        ' '           
                  |= |;._.}{__                    
            _.-""-|.' # '. \`  \`.-"{}<._           
                  / ${(yearString)}  \\     \\  x   \`"         
             ----/         \\_.-'|--X----          
             -=_ |         |    |- X.  =_.        
            - __ |_________|_.-'|_X-X##.          
            jgs \`'-._|_|;:;_.-'\` '::.  \`"-        
             .:;.      .:.   ::.     '::.         
`,


`
           _                                      
         (\`  ).          _.-._    _               
        (     ),      _.(.--. ) (\`  )\`.           
       _(       '\`-.(        '-)_ .    )          
   .=(\`(      .   ) .-  (_,  (_,))-.  ) )         
  ((    (..__.;'-' /.      ./  , _\\  ) )          
  \`(       ) )' '( \\  (  .     )  /   )  ._       
    \` __.:'   )'--._(   (_,   ._/  \`-'.-(\`  )     
          '--'      '\`--.__.--\`      :(      ))   
       '       .')   '     '         \`(    )  ))  
         '   '(_  )'    '      '    '  \` __.:'    
            '    ( _. '    '         '            
          '       /__\`A   ,_ '     '              
            ' '   |= |;._.}{__       ' '          
            _.-""-|.' # '. \`  \`.-"{}<._           
                  / ${(yearString)}  \\     \\  x   \`"         
             ----/         \\_.-'|--X----          
             -=_ |         |    |- X.  =_.        
            - __ |_________|_.-'|_X-X##.          
            jgs \`'-._|_|:;:_.-'\` '::.  \`"-        
             .;:.      .:.   ::.     ';:.         
`,

`
           _                                      
         (\`  ).          _.-._    _               
        (     ),      _.(.--. ) (\`  )\`.           
       _(       '\`-.(        '-)_ .    )          
   .=(\`(      .   ) .-  (_,  (_,))-.  ) )         
  ((    (..__.;'-' /.      ./  , _\\  ) )          
  \`(       ) )' '( \\  (  .     )  /   )  ._       
    \` __.:'   )'--._(   (_,   ._/  \`-'.-(\`  )     
          '--'     ''\`--.__.--\` ' '  :(      ))   
               .')                   \`(    )  ))  
        '     (_  )   '     '    '     \` __.:'    
          '   '  ( _'    '      '    '            
             '    /__\`A'  ,_'         '           
           '      |= |;._.}{__'     '             
            _.-""-|.' # '. \`  \`.-"{}<._ '         
                  / ${(yearString)}  \\     \\  x   \`"         
             ----/         \\_.-'|--X----          
             -=_ |         |    |- X.  =_.        
            - __ |_________|_.-'|_X-X##.          
            jgs \`'-._|_|;:;_.-'\` '::.  \`"-        
             .:;.      .:.   ::.     '::.         
`,

`
           _                                      
         (\`  ).          _.-._    _               
        (     ),      _.(.--. ) (\`  )\`.           
       _(       '\`-.(        '-)_ .    )          
   .=(\`(      .   ) .-  (_,  (_,))-.  ) )         
  ((    (..__.;'-' /.      ./  , _\\  ) )          
  \`(       ) )' '( \\  (  .     )  /   )  ._       
    \` __.:'   )'--._(   (_,   ._/' \`-'.-(\`  )     
      '   '--'      '\`--/__\\--\`'     :(      ))   
        ' '    .')  '            ' ' \`(    )  ))  
              (_  )                    \` __.:'    
         '   '     _.  '     '    '               
           '   '  /__\`A   ,_     '    '           
              '   |= |;._.}{__         '          
            _.-""-|.' # '. \`  \`.-"{}<._           
                  / ${(yearString)}  \\     \\  x   \`"         
             ----/         \\_.-'|--X----          
             -=_ |         |    |- X.  =_.        
            - __ |_________|_.-'|_X-X##.          
            jgs \`'-._|_|:;:_.-'\` '::.  \`"-        
             .;:.      .:.   ::.     ';:.         
`,

`
           _                                      
         (\`  ).          _.-._    _               
        (     ),      _.(.--. ) (\`  )\`.           
       _(       '\`-.(        '-)_ .    )          
   .=(\`(      .   ) .-  (_,  (_,))-.  ) )         
  ((    (..__.;'-' /.      ./  , _\\  ) )          
  \`(       ) )' '( \\  (  .     )  /   )  ._       
    \` __.:'   )'--._(   /\\.   ._/' \`-'.-(\`  )     
         ''--'     ''\`--\\\` \\--\`   '  :(      ))   
       '       .')      _\\ _\\   '    \`(    )  ))  
         ' '  (_  )  '  \`\\ \\      ' '  \` __.:'    
                   _.  \\ _\\_\\                     
          '   '   /__\`A '\`\\\\  '    '              
            '   ' |= |;.__\`\\-'-*  '    '          
            _.-""-|.' # '. \`  \`.-"{}<._ '         
                  / ${(yearString)}  \\     \\  x   \`"         
             ----/         \\_.-'|--X----          
             -=_ |         |    |- X.  =_.        
            - __ |_________|_.-'|_X-X##.          
            jgs \`'-._|_|;:;_.-'\` '::.  \`"-        
             .:;.      .:.   ::.     '::.         
`,

`
           _                                      
         (\`  ).          _.-._    _               
        (     ),      _.(.--. ) (\`  )\`.           
       _(       '\`-.(        '-)_ .    )          
   .=(\`(      .   ) .-  (_,  (_,))-.  ) )         
  ((    (..__.;'-' /.      ./  , _\\  ) )          
  \`(       ) )' '( \\  (  .     )  /   )  ._       
    \` __.:'   )'--._(   (_,   ._/  \`-'.-(\`  )     
       '  '--'   '  '\`--.__.--\`   '  :(      ))   
          '    .')  '    ' *       ' \`(    )  ))  
        '     (_  )    *   |  *  '     \` __.:'    
          ' '      _. '\\ \\ | / /   ' '            
                  /__\`A \\ ,_ /  *                 
           '   '  |= |;._.}{__ '    '             
            _.-""-|.' # '. \`  \`.-"{}<._ '         
                  / ${(yearString)}  \\     \\  x   \`"         
             ----/         \\_.-'|--X----          
             -=_ |         |    |- X.  =_.        
            - __ |_________|_.-'|_X-X##.          
            jgs \`'-._|_|:;:_.-'\` '::.  \`"-        
             .;:.      .:.   ::.     ';:.         
`,
],

clear: [
`
                         '                        
                  .      \`      .                 
            ,      ,     :     ,      ,           
             \`.        ______       .\`            
               '  _.-"\`      \`"-._ '              
                .'                '.              
         \`'--, /                    \\ ,--'\`       
              /                      \\            
             ;                        ;           
             |                        |           
       - -- (                          ) -- -     
             |     _.                 |           
             ;    /__\`A   ,_          ;           
         .-'  \\   |= |;._.}{__       /  '-.       
            _.-""-|.' # '. \`  \`.-"{}<._           
                  / ${(yearString)}  \\     \\  x   \`"         
             ----/         \\_.-'|--X----          
             -=_ |         |    |- X.  =_.        
            - __ |_________|_.-'|_X-X##.          
            jgs \`'-._|_|;:;_.-'\` '::.  \`"-        
             .:;.      .:.   ::.     '::.         
`,

`
                         '                        
                  .      \`      .                 
            ,      ,     :     ,      ,           
             \`.        ______       .\`            
               '  _.-"\`      \`"-._ '              
                .'                '.              
         \`'--, /                    \\ ,--'\`       
              /                      \\            
             ;                        ;           
             |                        |           
       - -- (                          ) -- -     
             |   ( _.                 |           
             ;    /__\`A   ,_          ;           
         .-'  \\   |= |;._.}{__       /  '-.       
            _.-""-|.' # '. \`  \`.-"{}<._           
                  / ${(yearString)}  \\     \\  x   \`"         
             ----/         \\_.-'|--X----          
             -=_ |         |    |- X.  =_.        
            - __ |_________|_.-'|_X-X##.          
            jgs \`'-._|_|:;:_.-'\` '::.  \`"-        
             .;:.      .:.   ::.     ';:.         
`,

`
                         '                        
                  .      \`      .                 
            ,      ,     :     ,      ,           
             \`.        ______       .\`            
               '  _.-"\`      \`"-._ '              
                .'                '.              
         \`'--, /                    \\ ,--'\`       
              /                      \\            
             ;                        ;           
             |                        |           
       - -- (       )                  ) -- -     
             |   ( _.                 |           
             ;    /__\`A   ,_          ;           
         .-'  \\   |= |;._.}{__       /  '-.       
            _.-""-|.' # '. \`  \`.-"{}<._           
                  / ${(yearString)}  \\     \\  x   \`"         
             ----/         \\_.-'|--X----          
             -=_ |         |    |- X.  =_.        
            - __ |_________|_.-'|_X-X##.          
            jgs \`'-._|_|;:;_.-'\` '::.  \`"-        
             .:;.      .:.   ::.     '::.         
`,

`
                         '                        
                  .      '      .                 
            .      .     ;     .      .           
             '.        ______       .'            
               \`  _.-"\`      \`"-._ \`              
                .'                '.              
         \`'--. /                    \\ .--'\`       
              /                      \\            
             ;                        ;           
             |    (                   |           
       - -- (       )                  ) -- -     
             |     _.                 |           
             ;    /__\`A   ,_          ;           
         .-\`  \\   |= |;._.}{__       /  \`-.       
            _.-""-|.' # '. \`  \`.-"{}<._           
                  / ${(yearString)}  \\     \\  x   \`"         
             ----/         \\_.-'|--X----          
             -=_ |         |    |- X.  =_.        
            - __ |_________|_.-'|_X-X##.          
            jgs \`'-._|_|:;:_.-'\` '::.  \`"-        
             .;:.      .:.   ::.     ';:.         
`,

`
                         '                        
                  .      '      .                 
            .      .     ;     .      .           
             '.        ______       .'            
               \`  _.-"\`      \`"-._ \`              
                .'                '.              
         \`'--. /                    \\ .--'\`       
              /                      \\            
             ;       )                ;           
             |    (                   |           
       - -- (                          ) -- -     
             |     _.                 |           
             ;    /__\`A   ,_          ;           
         .-\`  \\   |= |;._.}{__       /  \`-.       
            _.-""-|.' # '. \`  \`.-"{}<._           
                  / ${(yearString)}  \\     \\  x   \`"         
             ----/         \\_.-'|--X----          
             -=_ |         |    |- X.  =_.        
            - __ |_________|_.-'|_X-X##.          
            jgs \`'-._|_|;:;_.-'\` '::.  \`"-        
             .:;.      .:.   ::.     '::.         
`,

`
                         '                        
                  .      '      .                 
            .      .     ;     .      .           
             '.        ______       .'            
               \`  _.-"\`      \`"-._ \`              
                .'                '.              
         \`'--. /                    \\ .--'\`       
              /                      \\            
             ;       )                ;           
             |                        |           
       - -- (                          ) -- -     
             |     _.                 |           
             ;    /__\`A   ,_          ;           
         .-\`  \\   |= |;._.}{__       /  \`-.       
            _.-""-|.' # '. \`  \`.-"{}<._           
                  / ${(yearString)}  \\     \\  x   \`"         
             ----/         \\_.-'|--X----          
             -=_ |         |    |- X.  =_.        
            - __ |_________|_.-'|_X-X##.          
            jgs \`'-._|_|:;:_.-'\` '::.  \`"-        
             .;:.      .:.   ::.     ';:.         
`,
],

clouds  : [
`
           _                                      
         (\`  ).                   _               
        (     ),              .:(\`  )\`.           
       _(       '\`.          :(   .    )          
   .=(\`(      .   )     .--  \`.  (    ) )         
  ((    (..__.;'-'   .+(   )   \` _\`  ) )          
  \`(       ) )       (   .  )     (   )  ._       
    \` __.:'   )     (   (   ))     \`-'.-(\`  )     
           --'       \`- __.'         :(      ))   
               .')                   \`(    )  ))  
              (_  )                    \` __.:'    
                   _.                             
                  /__\`A   ,_                      
                  |= |;._.}{__                    
            _.-""-|.' # '. \`  \`.-"{}<._           
                  / ${(yearString)}  \\     \\  x   \`"         
             ----/         \\_.-'|--X----          
             -=_ |         |    |- X.  =_.        
            - __ |_________|_.-'|_X-X##.          
            jgs \`'-._|_|;:;_.-'\` '::.  \`"-        
             .:;.      .:.   ::.     '::.         
`,

`
           _                                      
         (\`  ).                   _               
        (     ).              .:(\`  )\`.           
       _(       '\`,          :(   .    )          
   .=(\`(      .   )     .--  \`.  (    ) )         
  ((    (..__.:'-'   .+(   )   \` _\`  ) )          
  \`(       ) )       (   .  )     (   )  ._       
    \` __.:'   )     (   (   ))     \`-'.-(\`  )     
           --'       \`- __.'         :(      ))   
               ,')                   \`(    )  ))  
              (_  )                    \` __.:'    
                 ( _.                             
                  /__\`A   ,_                      
                  |= |;._.}{__                    
            _.-""-|.' # '. \`  \`.-"{}<._           
                  / ${(yearString)}  \\     \\  x   \`"         
             ----/         \\_.-'|--X----          
             -=_ |         |    |- X.  =_.        
            - __ |_________|_.-'|_X-X##.          
            jgs \`'-._|_|:;:_.-'\` '::.  \`"-        
             .;:.      .:.   ::.     ';:.         
`,
`
           _                                      
         (\`  ),                   _               
        (     ).              .:(\`  )\`.           
       _(       '\`.          :(   .    )          
   ,=(\`(      .   )     ,--  \`.  (    ) )         
  ((    (..__.:'-'   .+(   )   \` _\`  ) )          
  \`(       ) )       (   .  )     (   )  ._       
    \` __.:'   )     (   (   ))     \`-'.-(\`  )     
           --'       \`- __.'         :(      ))   
               .')                   \`(    )  ))  
              (_  ) )                  \` __.;'    
                 ( _.                             
                  /__\`A   ,_                      
                  |= |;._.}{__                    
            _.-""-|.' # '. \`  \`.-"{}<._           
                  / ${(yearString)}  \\     \\  x   \`"         
             ----/         \\_.-'|--X----          
             -=_ |         |    |- X.  =_.        
            - __ |_________|_.-'|_X-X##.          
            jgs \`'-._|_|;:;_.-'\` '::.  \`"-        
             .:;.      .:.   ::.     '::.         
`,

`
           _                                      
         (\`  ).                   _               
        (     ),              .:(\`  )\`,           
       _(       '\`.          ;(   .    )          
   .=(\`(      .   )     .--  \`.  (    ) )         
  ((    (..__.;'-'   .+(   )   \` _\`  ) )          
  \`(       ) )       (   ,  )     (   )  ._       
    \` __.:'   )     (   (   ))     \`-'.-(\`  )     
           --'       \`- __.'         :(      ))   
               .')(                  \`(    )  ))  
              (_  ) )                  \` __.;'    
                   _.                             
                  /__\`A   ,_                      
                  |= |;._.}{__                    
            _.-""-|.' # '. \`  \`.-"{}<._           
                  / ${(yearString)}  \\     \\  x   \`"         
             ----/         \\_.-'|--X----          
             -=_ |         |    |- X.  =_.        
            - __ |_________|_.-'|_X-X##.          
            jgs \`'-._|_|:;:_.-'\` '::.  \`"-        
             .;:.      .:.   ::.     ';:.         
`,
`
           _                                      
         (\`  ).                   _               
        (     ).              .:(\`  )\`.           
       _(       '\`,          :(   .    )          
   .=(\`(      .   )     .--  \`.  (    ) )         
  ((    (,.__.:'-'   .+(   )   \` _\`  ) )          
  \`(       ) )       (   .  )     (   )  ._       
    \` __.:'   )     (   (   ))     \`-'.-(\`  )     
           --'      )\`- __.'         ;(      ))   
               .')(                  \`(    )  ))  
              (_  )                    \` __.;'    
                   _.                             
                  /__\`A   ,_                      
                  |= |;._.}{__                    
            _.-""-|.' # '. \`  \`.-"{}<._           
                  / ${(yearString)}  \\     \\  x   \`"         
             ----/         \\_.-'|--X----          
             -=_ |         |    |- X.  =_.        
            - __ |_________|_.-'|_X-X##.          
            jgs \`'-._|_|;:;_.-'\` '::.  \`"-        
             .:;.      .:.   ::.     '::.         
`,

`
           _                                      
         (\`  ),                   _               
        (     ).              .;(\`  )\`.           
       _(       '\`.          :(   .    )          
   .=(\`(      .   )     ,--  \`.  (    ) )         
  ((    (..__.;'-'   .+(   )   \` _\`  ) )          
  \`(       ) )       (   ,  )     (   )  ._       
    \` __.;'   )     (   (   ))     \`-'.-(\`  )     
           --'      )\`- __.'         :(      ))   
               .')                   \`(    )  ))  
              (_  )                    \` __,:'    
                   _.                             
                  /__\`A   ,_                      
                  |= |;._.}{__                    
            _.-""-|.' # '. \`  \`.-"{}<._           
                  / ${(yearString)}  \\     \\  x   \`"         
             ----/         \\_.-'|--X----          
             -=_ |         |    |- X.  =_.        
            - __ |_________|_.-'|_X-X##.          
            jgs \`'-._|_|:;:_.-'\` '::.  \`"-        
             .;:.      .:.   ::.     ';:.         
`,
],

rain: [
`
           _                                      
         (\`  ).                   _               
        (     ),              .:(\`  )\`.           
       _(       '\`.          :(   .    )          
   .=(\`(      .   )     .--  \`.  (    ) )         
  ((    (..__.;'-'   .+(   )   \` _\`  ) )          
  \`(       ) )' '    (   .  ) ' ' (   )  ._       
    \` __.:'   )    '(   (   ))     \`-'.-(\`  )     
      '   '--'      '\`- __.'   '     :(      ))   
        '   '  .')'    '      '      \`(    )  ))  
           '  (_  )  '    '         '  \` __.:'    
         '         _.       '     '               
           ' '    /__\`A   ,_        ' '           
                  |= |;._.}{__                    
            _.-""-|.' # '. \`  \`.-"{}<._           
                  / ${(yearString)}  \\     \\  x   \`"         
             ----/         \\_.-'|--X----          
             -=_ |         |    |- X.  =_.        
            - __ |_________|_.-'|_X-X##.          
            jgs \`'-._|_|;:;_.-'\` '::.  \`"-        
             .:;.      .:.   ::.     '::.         
`,

`
           _                                      
         (\`  ).                   _               
        (     ).              .:(\`  )\`.           
       _(       '\`,          :(   .    )          
   .=(\`(      .   )     .--  \`.  (    ) )         
  ((    (..__.:'-''  .+(   )   \` _\`  ) )          
  \`(       ) )       (   .  )'    (   )  ._       
    \` __.:'   )' '  (   (   )) ' ' \`-'.-(\`  )     
           --'       \`- __.'         :(      ))   
       '   '   ,')   '     '    '    \`(    )  ))  
         '   '(_  )'    '      '       \` __.:'    
            '    ( _. '    '         '            
          '       /__\`A   ,_ '     '              
            ' '   |= |;._.}{__       ' '          
            _.-""-|.' # '. \`  \`.-"{}<._           
                  / ${(yearString)}  \\     \\  x   \`"         
             ----/         \\_.-'|--X----          
             -=_ |         |    |- X.  =_.        
            - __ |_________|_.-'|_X-X##.          
            jgs \`'-._|_|:;:_.-'\` '::.  \`"-        
             .;:.      .:.   ::.     ';:.         
`,

`
           _                                      
         (\`  ),                   _               
        (     ).              .:(\`  )\`.           
       _(       '\`.          :(   .    )          
   ,=(\`(      .   )     ,--  \`.  (    ) )         
  ((    (..__.:'-'   .+(   )   \` _\`  ) )          
  \`(       ) )     ' (   .  )   ' (   )  ._       
   '\` __.:'   )     (   (   ))'    \`-'.-(\`  )     
       ' ' --'  ' '  \`- __.'    ' '  :(      ))   
               .')                   \`(    )  ))  
        '   ' (_  ) ) '     '    '     \` __.;'    
          '   '  ( _'    '      '                 
             '    /__\`A   ,_'         '           
           '      |= |;._.}{__'     '             
            _.-""-|.' # '. \`  \`.-"{}<._ '         
                  / ${(yearString)}  \\     \\  x   \`"         
             ----/         \\_.-'|--X----          
             -=_ |         |    |- X.  =_.        
            - __ |_________|_.-'|_X-X##.          
            jgs \`'-._|_|;:;_.-'\` '::.  \`"-        
             .:;.      .:.   ::.     '::.         
`,

`
           _                                      
         (\`  ).                   _               
        (     ),              .:(\`  )\`,           
       _(       '\`.          ;(   .    )          
   .=(\`(      .   )     .--  \`.  (    ) )         
  ((    (..__.;'-'   .+(   )   \` _\`  ) )          
  \`(       ) )'      (   ,  )     (   )  ._       
    \` __.:'   )     (   (   ))   ' \`-'.-(\`  )     
      '    --'       \`- __.'   '     :(      ))   
        ' '    .')( '            ' ' \`(    )  ))  
              (_  ) )                  \` __.;'    
         '   '     _.  '     '    '               
           '   '  /__\`A   ,_     '                
              '   |= |;._.}{__         '          
            _.-""-|.' # '. \`  \`.-"{}<._           
                  / ${(yearString)}  \\     \\  x   \`"         
             ----/         \\_.-'|--X----          
             -=_ |         |    |- X.  =_.        
            - __ |_________|_.-'|_X-X##.          
            jgs \`'-._|_|:;:_.-'\` '::.  \`"-        
             .;:.      .:.   ::.     ';:.         
`,

`
           _                                      
         (\`  ).                   _               
        (     ).              .:(\`  )\`.           
       _(       '\`,          :(   .    )          
   .=(\`(      .   )     .--  \`.  (    ) )         
  ((    (,.__.:'-''  .+(   )   \` _\`  ) )          
  \`(       ) )       (   .  )'    (   )  ._       
    \` __.:'   )'    (   (   ))     \`-'.-(\`  )     
         ' --'      )\`- __.'      '  ;(      ))   
       '       .')(       '     '    \`(    )  ))  
         ' '  (_  )  '            ' '  \` __.;'    
                   _.                             
          '   '   /__\`A ' ,_  '    '              
            '   ' |= |;._.}{__    '               
            _.-""-|.' # '. \`  \`.-"{}<._           
                  / ${(yearString)}  \\     \\  x   \`"         
             ----/         \\_.-'|--X----          
             -=_ |         |    |- X.  =_.        
            - __ |_________|_.-'|_X-X##.          
            jgs \`'-._|_|;:;_.-'\` '::.  \`"-        
             .:;.      .:.   ::.     '::.         
`,

`
           _                                      
         (\`  ),                   _               
        (     ).              .;(\`  )\`.           
       _(       '\`.          :(   .    )          
   .=(\`(      .   )     ,--  \`.  (    ) )         
  ((    (..__.;'-'   .+(   )   \` _\`  ) )          
  \`(       ) )     ' (   ,  )     (   )  ._       
    \` __.;'   )     (   (   ))'    \`-'.-(\`  )     
       '   --'  '   )\`- __.' '       :(      ))   
          '    .')  '    '         ' \`(    )  ))  
        '     (_  )        '     '     \` __,:'    
          ' '      _. '            ' '            
                  /__\`A   ,_                      
           '   '  |= |;._.}{__ '    '             
            _.-""-|.' # '. \`  \`.-"{}<._           
                  / ${(yearString)}  \\     \\  x   \`"         
             ----/         \\_.-'|--X----          
             -=_ |         |    |- X.  =_.        
            - __ |_________|_.-'|_X-X##.          
            jgs \`'-._|_|:;:_.-'\` '::.  \`"-        
             .;:.      .:.   ::.     ';:.         
`,
],

snow: [
`
           _                                      
         (\`  ).                   _               
        (     ),              .:(\`  )\`.           
       _(       '\`.          :(   .    )          
   .=(\`(      .   )     .--  \`.  (    ) )         
  ((    (..__.;'-'   .+(   )   \` _\`  ) )          
  \`(       ) )* *    (   .  ) * * (   )  ._       
    \` __.:'   )    *(   (   ))     \`-'.-(\`  )     
      *   '--'      *\`- __.'   *     :(      ))   
        *   *  .')*    *      *      \`(    )  ))  
           *  (_  )  *    *         *  \` __.:'    
         *         _.       *     *               
           * *    /__\`A   ,_        * *           
                  |= |;._.}{__                    
            _.-""-|.' # '. \`  \`.-"{}<._           
                  / ${(yearString)}  \\     \\  x   \`"         
             ----/         \\_.-'|--X----          
             -=_ |         |    |- X.  =_.        
            - __ |_________|_.-'|_X-X##.          
            jgs \`'-._|_|;:;_.-'\` '::.  \`"-        
             .:;.      .:.   ::.     '::.         
`,
`
           _                                      
         (\`  ).                   _               
        (     ).              .:(\`  )\`.           
       _(       '\`,          :(   .    )          
   .=(\`(      .   )     .--  \`.  (    ) )         
  ((    (..__.:'-''  .+(   )   \` _\`  ) )          
  \`(       ) )       (   .  )*    (   )  ._       
    \` __.:'   )* *  (   (   )) * * \`-'.-(\`  )     
           --'       \`- __.'         :(      ))   
       *   *   ,')   *     '    *    \`(    )  ))  
         *   *(_  )'    *      *       \` __.:'    
            *    ( _. *    *         *            
          *       /__\`A   ,_ *     *              
            * *   |= |;._.}{__       * *          
            _.-""-|.' # '. \`  \`.-"{}<._           
                  / ${(yearString)}  \\     \\  x   \`"         
             ----/         \\_.-'|--X----          
             -=_ |         |    |- X.  =_.        
            - __ |_________|_.-'|_X-X##.          
            jgs \`'-._|_|:;:_.-'\` '::.  \`"-        
             .;:.      .:.   ::.     ';:.         
 `,
 `
           _                                      
         (\`  ),                   _               
        (     ).              .:(\`  )\`.           
       _(       '\`.          :(   .    )          
   ,=(\`(      .   )     ,--  \`.  (    ) )         
  ((    (..__.:'-'   .+(   )   \` _\`  ) )          
  \`(       ) )     * (   .  )   * (   )  ._       
   '\` __.:'   )     (   (   ))*    \`-'.-(\`  )     
       * * --'  * *  \`- __.'    * *  :(      ))   
               .')                   \`(    )  ))  
        *   * (_  ) ) *     *    *     \` __.;'    
          *   *  ( _'    *      *                 
             *    /__\`A   ,_*         *           
           *      |= |;._.}{__*     *             
            _.-""-|.' # '. \`  \`.-"{}<._ *         
                  / ${(yearString)}  \\     \\  x   \`"         
             ----/         \\_.-'|--X----          
             -=_ |         |    |- X.  =_.        
            - __ |_________|_.-'|_X-X##.          
            jgs \`'-._|_|;:;_.-'\` '::.  \`"-        
             .:;.      .:.   ::.     '::.         
 `,
 `
           _                                      
         (\`  ).                   _               
        (     ),              .:(\`  )\`,           
       _(       '\`.          ;(   .    )          
   .=(\`(      .   )     .--  \`.  (    ) )         
  ((    (..__.;'-'   .+(   )   \` _\`  ) )          
  \`(       ) )*      (   ,  )     (   )  ._       
    \` __.:'   )     (   (   ))   * \`-'.-(\`  )     
      *    --'       \`- __.'   *     :(      ))   
        * *    .')( *            * * \`(    )  ))  
              (_  ) )                  \` __.;'    
         *   *     _.  *     *    *               
           *   *  /__\`A   ,_     *                
              *   |= |;._.}{__         *           
            _.-""-|.' # '. \`  \`.-"{}<._           
                  / ${(yearString)}  \\     \\  x   \`"         
             ----/         \\_.-'|--X----          
             -=_ |         |    |- X.  =_.        
            - __ |_________|_.-'|_X-X##.          
            jgs \`'-._|_|:;:_.-'\` '::.  \`"-        
             .;:.      .:.   ::.     ';:.         
 `,
 `
           _                                      
         (\`  ).                   _               
        (     ).              .:(\`  )\`.           
       _(       '\`,          :(   .    )          
   .=(\`(      .   )     .--  \`.  (    ) )         
  ((    (,.__.:'-''  .+(   )   \` _\`  ) )          
  \`(       ) )       (   .  )*    (   )  ._       
    \` __.:'   )*    (   (   ))     \`-'.-(\`  )     
         ' --'      )\`- __.'      *  ;(      ))   
       *       .')(       '     *    \`(    )  ))  
         * *  (_  )  *            * *  \` __.;'    
                   _.                             
          *   *   /__\`A ' ,_  *    *              
            *   * |= |;._.}{__    *               
            _.-""-|.' # '. \`  \`.-"{}<._           
                  / ${(yearString)}  \\     \\  x   \`"         
             ----/         \\_.-'|--X----          
             -=_ |         |    |- X.  =_.        
            - __ |_________|_.-'|_X-X##.          
            jgs \`'-._|_|;:;_.-'\` '::.  \`"-        
             .:;.      .:.   ::.     '::.         
 `,
 `
           _                                      
         (\`  ),                   _               
        (     ).              .;(\`  )\`.           
       _(       '\`.          :(   .    )          
   .=(\`(      .   )     ,--  \`.  (    ) )         
  ((    (..__.;'-'   .+(   )   \` _\`  ) )          
  \`(       ) )     * (   ,  )     (   )  ._       
    \` __.;'   )     (   (   ))*    \`-'.-(\`  )     
       *   --'  *   )\`- __.' *       :(      ))   
          *    .')  *    *         * \`(    )  ))  
        *     (_  )        *     *     \` __,:'    
          * *      _. *            * *            
                  /__\`A   ,_                      
           *   *  |= |;._.}{__ *    *             
            _.-""-|.' # '. \`  \`.-"{}<._           
                  / ${(yearString)}  \\     \\  x   \`"         
             ----/         \\_.-'|--X----          
             -=_ |         |    |- X.  =_.        
            - __ |_________|_.-'|_X-X##.          
            jgs \`'-._|_|:;:_.-'\` '::.  \`"-        
             .;:.      .:.   ::.     ';:.         
 `,
],

mist: [
`
             ________             ._______        
         -----         ______,--._                
          ----,____.---           ---   _______.  
    ._____       ____     -,_____.-----.          
          -------    ---             --.________- 
    ____,---.____.        ----____---             
  --        ___________.          ._______        
      ------           ______,--._           -----
          ----.___,----           ---   _______.  
         ___      ____     -._____,-----.         
           ------    ---             --.___       
                   _.                             
                  /__\`A   ,_                      
                  |= |;._.}{__                    
            _.-""-|.' # '. \`  \`.-"{}<._           
                  / ${(yearString)}  \\     \\  x   \`"         
             ----/         \\_.-'|--X----          
             -=_ |         |    |- X.  =_.        
            - __ |_________|_.-'|_X-X##.          
            jgs \`'-._|_|;:;_.-'\` '::.  \`"-        
             .:;.      .:.   ::.     '::.         
`,

`
              ________             ._______       
         -----         ______,--._                
          ----.___,----           ---   _______.  
   ._____       ____     -._____,-----.           
          -------    ---             --.________- 
    ____,----.___,        ---____----             
  --        ___________.          ._______        
      ------           ______,--._           -----
          ----.___,----           ---   _______.  
        __       ____     -._____,-----.          
          -------    ---             --,___       
                 ( _.                             
                  /__\`A   ,_                      
                  |= |;._.}{__                    
            _.-""-|.' # '. \`  \`.-"{}<._           
                  / ${(yearString)}  \\     \\  x   \`"         
             ----/         \\_.-'|--X----          
             -=_ |         |    |- X.  =_.        
            - __ |_________|_.-'|_X-X##.          
            jgs \`'-._|_|:;:_.-'\` '::.  \`"-        
             .;:.      .:.   ::.     ';:.         
`,
`
              ________             ._______       
          -----         ______,--._               
          ----.___,----           ---   _______.  
    ._____        .__     -._____,-----.          
         -----__-   ---             --.________-  
   ____,---.____.        ----____---              
   --        ___________.          ._______       
      ------           ______,--._           -----
          ----.___,----           ---   _______.  
        __       ____     -._____,-----.          
          -------   )---             --.___       
                 ( _.                             
                  /__\`A   ,_                      
                  |= |;._.}{__                    
            _.-""-|.' # '. \`  \`.-"{}<._           
                  / ${(yearString)}  \\     \\  x   \`"         
             ----/         \\_.-'|--X----          
             -=_ |         |    |- X.  =_.        
            - __ |_________|_.-'|_X-X##.          
            jgs \`'-._|_|;:;_.-'\` '::.  \`"-        
             .:;.      .:.   ::.     '::.         
`,

`
                                                  
              ,_______             ._______       
         __---         ______,--._                
           _---.___,----           ---   _______. 
    ._____       ____     -._____,-----.          
          -------    ---             --.________- 
    ____,---.____.        ---____----             
  --        _____--____,          ._______        
      ------           ______,--._           -----
         ----.___(----           ---   _______.   
        ___      ___)     -._____,-----.          
           ------  _.                             
                  /__\`A   ,_                      
                  |= |;._.}{__                    
            _.-""-|.' # '. \`  \`.-"{}<._           
                  / ${(yearString)}  \\     \\  x   \`"         
             ----/         \\_.-'|--X----          
             -=_ |         |    |- X.  =_.        
            - __ |_________|_.-'|_X-X##.          
            jgs \`'-._|_|:;:_.-'\` '::.  \`"-        
             .;:.      .:.   ::.     ';:.         
`,
`
                                                  
              ________             ._______       
        -----         ______,--._                 
          ----.___,----           ---   _______,  
    ._____       ____     -._____,-----.          
          ---__--    ---             --,________- 
    ____,---.____.        ---____----             
  --        ____--_____.          ._______        
      ------        )  ______,--._           -----
          ----.__(,----           ---   _______,  
         ___      ____     -._____.-----.         
            ------ _.                             
                  /__\`A   ,_                      
                  |= |;._.}{__                    
            _.-""-|.' # '. \`  \`.-"{}<._           
                  / ${(yearString)}  \\     \\  x   \`"         
             ----/         \\_.-'|--X----          
             -=_ |         |    |- X.  =_.        
            - __ |_________|_.-'|_X-X##.          
            jgs \`'-._|_|;:;_.-'\` '::.  \`"-        
             .:;.      .:.   ::.     '::.         
`,

`
                                                  
              ________             ,_______       
          -----         ______,--._               
          ----.___,----           ---   _______.  
    ,_____       ____     -._____.-----,          
          -------    ---             --.________- 
    ____.---.____.        ----____---             
  --        ___________.          ._______        
      ------        )  ______,--._           -----
          ----.___,----           ---   _______.  
        ____     ____     -._____,-----.          
            -----  _.                             
                  /__\`A   ,_                      
                  |= |;._.}{__                    
            _.-""-|.' # '. \`  \`.-"{}<._           
                  / ${(yearString)}  \\     \\  x   \`"         
             ----/         \\_.-'|--X----          
             -=_ |         |    |- X.  =_.        
            - __ |_________|_.-'|_X-X##.          
            jgs \`'-._|_|:;:_.-'\` '::.  \`"-        
             .;:.      .:.   ::.     ';:.         
`,
],

drizzle: [
`
           _                                      
         (\`  ).                   _               
        (     ),              .:(\`  )\`.           
       _(       '\`.          :(   .    )          
   .=(\`(      .   )     .--  \`.  (    ) )         
  ((    (..__.;'-'   .+(   )   \` _\`  ) )          
  \`(       ) )'      (   .  )   ' (   )  ._       
    \` __.:'   )    '(   (   ))     \`-'.-(\`  )     
      '    --'      '\`- __.'         :(      ))   
            '  .')'           '      \`(    )  ))  
              (_  )  '              '  \` __.:'    
         '         _.       '                     
             '    /__\`A   ,_          '           
                  |= |;._.}{__                    
            _.-""-|.' # '. \`  \`.-"{}<._           
                  / ${(yearString)}  \\     \\  x   \`"         
             ----/         \\_.-'|--X----          
             -=_ |         |    |- X.  =_.        
            - __ |_________|_.-'|_X-X##.          
            jgs \`'-._|_|;:;_.-'\` '::.  \`"-        
             .:;.      .:.   ::.     '::.jgs      
`,

`
           _                                      
         (\`  ).                   _               
        (     ).              .:(\`  )\`.           
       _(       '\`,          :(   .    )          
   .=(\`(      .   )     .--  \`.  (    ) )         
  ((    (..__.:'-''  .+(   )   \` _\`  ) )          
  \`(       ) )       (   .  )     (   )  ._       
    \` __.:'   )'    (   (   ))   ' \`-'.-(\`  )     
           --'       \`- __.'         :(      ))   
       '       ,')   '     '         \`(    )  ))  
             '(_  )'           '       \` __.:'    
                 ( _. '              '            
          '       /__\`A   ,_ '                    
              '   |= |;._.}{__         '          
            _.-""-|.' # '. \`  \`.-"{}<._           
                  / ${(yearString)}  \\     \\  x   \`"         
             ----/         \\_.-'|--X----          
             -=_ |         |    |- X.  =_.        
            - __ |_________|_.-'|_X-X##.          
            jgs \`'-._|_|:;:_.-'\` '::.  \`"-        
             .;:.      .:.   ::.     ';:.jgs      
`,

`
           _                                      
         (\`  ),                   _               
        (     ).              .:(\`  )\`.           
       _(       '\`.          :(   .    )          
   ,=(\`(      .   )     ,--  \`.  (    ) )         
  ((    (..__.:'-'   .+(   )   \` _\`  ) )          
  \`(       ) )     ' (   .  )   ' (   )  ._       
   '\` __.:'   )     (   (   ))     \`-'.-(\`  )     
         ' --'  '    \`- __.'      '  :(      ))   
               .')                   \`(    )  ))  
        '     (_  ) ) '     '          \` __.;'    
              '  ( _'           '                 
                  /__\`A   ,_          '           
           '      |= |;._.}{__'                   
            _.-""-|.' # '. \`  \`.-"{}<._ '         
                  / ${(yearString)}  \\     \\  x   \`"         
             ----/         \\_.-'|--X----          
             -=_ |         |    |- X.  =_.        
            - __ |_________|_.-'|_X-X##.          
            jgs \`'-._|_|;:;_.-'\` '::.  \`"-        
             .:;.      .:.   ::.     '::.jgs      
`,

`
           _                                      
         (\`  ).                   _               
        (     ),              .:(\`  )\`,           
       _(       '\`.          ;(   .    )          
   .=(\`(      .   )     .--  \`.  (    ) )         
  ((    (..__.;'-'   .+(   )   \` _\`  ) )          
  \`(       ) )'      (   ,  )     (   )  ._       
    \` __.:'   )     (   (   ))   ' \`-'.-(\`  )     
      '    --'       \`- __.'         :(      ))   
          '    .')(                ' \`(    )  ))  
              (_  ) )                  \` __.;'    
         '         _.  '     '                    
               '  /__\`A   ,_     '                
                  |= |;._.}{__         '          
            _.-""-|.' # '. \`  \`.-"{}<._           
                  / ${(yearString)}  \\     \\  x   \`"         
             ----/         \\_.-'|--X----          
             -=_ |         |    |- X.  =_.        
            - __ |_________|_.-'|_X-X##.          
            jgs \`'-._|_|:;:_.-'\` '::.  \`"-        
             .;:.      .:.   ::.     ';:.jgs      
`,

`
           _                                      
         (\`  ).                   _               
        (     ).              .:(\`  )\`.           
       _(       '\`,          :(   .    )          
   .=(\`(      .   )     .--  \`.  (    ) )         
  ((    (,.__.:'-''  .+(   )   \` _\`  ) )          
  \`(       ) )       (   .  )'    (   )  ._       
    \` __.:'   )'    (   (   ))     \`-'.-(\`  )     
           --'      )\`- __.'      '  ;(      ))   
       '       .')(       '          \`(    )  ))  
           '  (_  )                 '  \` __.;'    
                   _.                             
          '       /__\`A ' ,_  '                   
                ' |= |;._.}{__    '               
            _.-""-|.' # '. \`  \`.-"{}<._           
                  / ${(yearString)}  \\     \\  x   \`"         
             ----/         \\_.-'|--X----          
             -=_ |         |    |- X.  =_.        
            - __ |_________|_.-'|_X-X##.          
            jgs \`'-._|_|;:;_.-'\` '::.  \`"-        
             .:;.      .:.   ::.     '::.jgs      
`,

`
           _                                      
         (\`  ),                   _               
        (     ).              .;(\`  )\`.           
       _(       '\`.          :(   .    )          
   .=(\`(      .   )     ,--  \`.  (    ) )         
  ((    (..__.;'-'   .+(   )   \` _\`  ) )          
  \`(       ) )     ' (   ,  )     (   )  ._       
    \` __.;'   )     (   (   ))'    \`-'.-(\`  )     
       '   --'  '   )\`- __.' '       :(      ))   
               .')  '    '         ' \`(    )  ))  
        '     (_  )        '           \` __,:'    
            '      _.                '            
                  /__\`A   ,_                      
           '      |= |;._.}{__ '                  
            _.-""-|.' # '. \`  \`.-"{}<._           
                  / ${(yearString)}  \\     \\  x   \`"         
             ----/         \\_.-'|--X----          
             -=_ |         |    |- X.  =_.        
            - __ |_________|_.-'|_X-X##.          
            jgs \`'-._|_|:;:_.-'\` '::.  \`"-        
             .;:.      .:.   ::.     ';:.jgs      
`,
]
        };
    }

            init() {
                this.fetchWeather();
                this.startWeatherAnimation();
                setInterval(() => this.fetchWeather(), 300000); // Update every 5 minutes
            }

            async fetchWeather() {
                try {
                    const cachedWeather = localStorage.getItem('cachedWeather');
                    const cachedTime = localStorage.getItem('cachedWeatherTime');
                    
                    if (cachedWeather && cachedTime && (Date.now() - parseInt(cachedTime)) < 600000) {
                        this.updateWeather(JSON.parse(cachedWeather));
                        return;
                    }

                    const position = await this.getLocation();
                    const { latitude, longitude } = position.coords;
                    const url = `https://api.open-meteo.com/v1/forecast?latitude=${latitude}&longitude=${longitude}&current_weather=true`;

                    const response = await fetch(url);
                    const data = await response.json();
                    
                    localStorage.setItem('cachedWeather', JSON.stringify(data));
                    localStorage.setItem('cachedWeatherTime', Date.now().toString());

                    this.updateWeather(data);
                } catch (error) {
                    console.error('Error fetching weather:', error);
                    this.weatherElement.innerHTML = this.createWeatherHTML('unknown', 'N/A');
                    this.weatherArtElement.textContent = '';
                }
            }

            updateWeather(data) {
                const { temperature: temp, weathercode: weatherCode } = data.current_weather;
                this.currentWeatherType = this.weatherConditions[weatherCode] || 'clear';
                this.weatherElement.innerHTML = this.createWeatherHTML(this.currentWeatherType, temp);
            }

            createWeatherHTML(type, temp) {
                return `
+-------------------+
|     WEATHER       |
|     ${this.padRight(type, 12)}  |
|     ${this.padRight(temp + '°C', 12)}  |
+-------------------+`;
            }

            startWeatherAnimation() {
                setInterval(() => this.updateWeatherAnimation(), 500);
            }

            updateWeatherAnimation() {
                const currentArt = this.weatherArt[this.currentWeatherType][this.animationFrame % this.weatherArt[this.currentWeatherType].length];
                this.weatherArtElement.textContent = currentArt;
                this.animationFrame++;
            }

            getLocation() {
                return new Promise((resolve, reject) => {
                    if (navigator.geolocation) {
                        navigator.geolocation.getCurrentPosition(resolve, reject);
                    } else {
                        reject(new Error("Geolocation is not supported by this browser."));
                    }
                });
            }

            padRight(str, length, padChar = ' ') {
                return str + padChar.repeat(Math.max(0, length - str.length));
            }
        }

        (function() {
            const shortcuts = document.querySelector('.shortcuts');
            const code = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'b', 'a'];
            let codeIndex = 0;

            function toggleElements() {
                const isVisible = localStorage.getItem('elementsVisible') === 'true';
                shortcuts.style.display = isVisible ? 'none' : 'flex';
                localStorage.setItem('elementsVisible', (!isVisible).toString());
                console.log(`Elements ${isVisible ? 'hidden' : 'revealed'}`);
            }

            document.addEventListener('keydown', function(e) {
                if (e.key === code[codeIndex]) {
                    codeIndex++;
                    if (codeIndex === code.length) {
                        toggleElements();
                        codeIndex = 0;
                    }
                } else {
                    codeIndex = 0;
                }
            });

            if (localStorage.getItem('elementsVisible') === 'true') {
                shortcuts.style.display = 'flex';
            }
        })();

        class TimeManager {
            constructor() {
                this.timeElement = document.getElementById('time');
            }

            init() {
                this.updateTime();
                setInterval(() => this.updateTime(), 1000);
            }

            updateTime() {
                const now = new Date();
                const timeString = now.toLocaleTimeString();
                const dateString = now.toLocaleDateString('en-US', {
                    year: '2-digit',
                    month: '2-digit',
                    day: '2-digit'
                });
                const timeHtml = `
+-------------------+
|      TIME         |
|    ${this.padRight(timeString, 11)}    |
|     ${this.padRight(dateString, 10)}    |
+-------------------+`;

                this.timeElement.innerHTML = timeHtml;
            }

            padRight(str, length, padChar = ' ') {
                return str + padChar.repeat(Math.max(0, length - str.length));
            }
        }

        class PromptManager {
            constructor() {
                this.promptsContainer = document.getElementById('prompts');
            }

            init() {
                this.updatePrompts();
                window.addEventListener('resize', () => this.updatePrompts());
            }

            updatePrompts() {
                this.promptsContainer.innerHTML = '';
                const lineHeight = 16.5;
                const lines = Math.floor(window.innerHeight / lineHeight);
                
                for (let i = 0; i < lines; i++) {
                    const promptElement = document.createElement('div');
                    promptElement.className = 'prompt';
                    promptElement.style.position = 'absolute';
                    promptElement.style.top = `${i * lineHeight}px`;
                    promptElement.textContent = '>';
                    this.promptsContainer.appendChild(promptElement);
                }
            }
        }

        class SpotifyManager {
            constructor() {
                this.widgetElement = document.getElementById('spotify-widget');
                this.apiUrl = '__SPOTIFY_API_GATEWAY_URL__';
                console.log('API URL:', this.apiUrl); // Log the API URL
            }

            init() {
                this.updateWidget();
            }

            async updateNowPlaying() {
                console.log('Fetching Spotify data...'); // Log before fetch
                try {
                    const response = await fetch(this.apiUrl, {
                        method: 'GET',
                        headers: {
                            'Content-Type': 'application/json',
                        }
                    });
                    console.log('Response status:', response.status); // Log response status
                    if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                    const data = await response.json();
                    console.log('Spotify data:', data); // Log the received data
                    this.updateWidget(data);
                } catch (error) {
                    console.error('Error fetching Spotify data:', error);
                    this.widgetElement.innerHTML = this.createWidgetHTML('Unknown');
                }
            }

            updateWidget(data) {
                if (data && data.item) {
                    const trackName = data.item.name;
                    const artistName = data.item.artists.map(artist => artist.name).join(', ');
                    this.widgetElement.innerHTML = this.createWidgetHTML(`${trackName} - ${artistName}`);
                } else {
                    this.widgetElement.innerHTML = this.createWidgetHTML('     unknown');
                }
            }

            createWidgetHTML(content) {
                return `
+-------------------+
|   LISTENING TO:   |
| ${this.padRight(content, 17)} |
+-------------------+`;
            }

            padRight(str, length, padChar = ' ') {
                return (str.length > length) ? str.slice(0, length) : str + padChar.repeat(Math.max(0, length - str.length));
            }

            toggle() {
                this.widgetElement.style.display = this.widgetElement.style.display === 'none' ? 'block' : 'none';
            }
        }

        class App {
            constructor() {
                this.weatherManager = new WeatherManager();
                this.timeManager = new TimeManager();
                this.promptManager = new PromptManager();
                this.spotifyManager = new SpotifyManager();
            }

            init() {
                this.promptManager.init();
                this.timeManager.init();
                this.weatherManager.init();
                this.spotifyManager.init();
            }
        }

        const app = new App();
        app.init();

    </script>
</body>
</html>